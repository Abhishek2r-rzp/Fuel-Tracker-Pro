export const CATEGORY_HIERARCHY = {
  Income: {
    emoji: "ðŸ’°",
    subcategories: [
      "Salary",
      "Freelance",
      "Business Income",
      "Interest",
      "Dividends",
      "Rental Income",
      "Cashback",
      "Refunds",
      "Rewards",
      "Others",
    ],
  },
  "Food & Dining": {
    emoji: "ðŸ”",
    subcategories: [
      "Swiggy",
      "Zomato",
      "Uber Eats",
      "Restaurants",
      "Cafes",
      "Fast Food",
      "Others",
    ],
  },
  Groceries: {
    emoji: "ðŸ›’",
    subcategories: [
      "BigBasket",
      "Blinkit",
      "Zepto",
      "Dunzo",
      "DMart",
      "JioMart",
      "Supermarkets",
      "Local Stores",
      "Others",
    ],
  },
  "Shopping - Online": {
    emoji: "ðŸ›ï¸",
    subcategories: ["Amazon", "Flipkart", "Myntra", "Ajio", "Nykaa", "Others"],
  },
  "Shopping - Retail": {
    emoji: "ðŸ›ï¸",
    subcategories: [
      "Clothing",
      "Electronics",
      "Home & Garden",
      "Personal Care",
      "Others",
    ],
  },
  Transport: {
    emoji: "ðŸš—",
    subcategories: [
      "Uber",
      "Ola",
      "Rapido",
      "Metro",
      "Bus",
      "Train",
      "Auto",
      "Fuel",
      "Parking",
      "Others",
    ],
  },
  Entertainment: {
    emoji: "ðŸŽ¬",
    subcategories: [
      "Netflix",
      "Prime Video",
      "Hotstar",
      "Spotify",
      "YouTube Premium",
      "BookMyShow",
      "PVR",
      "Movies",
      "Events",
      "Gaming",
      "Others",
    ],
  },
  Healthcare: {
    emoji: "ðŸ¥",
    subcategories: [
      "Hospitals",
      "Clinics",
      "Medicines",
      "Lab Tests",
      "Health Insurance",
      "Gym",
      "Fitness",
      "Others",
    ],
  },
  Utilities: {
    emoji: "ðŸ’¡",
    subcategories: [
      "Electricity",
      "Water",
      "Gas",
      "Internet",
      "Mobile",
      "DTH",
      "Broadband",
      "Others",
    ],
  },
  Education: {
    emoji: "ðŸ“š",
    subcategories: [
      "School Fees",
      "College Fees",
      "Courses",
      "Books",
      "Tuition",
      "Training",
      "Others",
    ],
  },
  Travel: {
    emoji: "âœˆï¸",
    subcategories: [
      "MakeMyTrip",
      "Airbnb",
      "OYO",
      "Goibibo",
      "Yatra",
      "Flights",
      "Hotels",
      "Vacation",
      "Others",
    ],
  },
  Investments: {
    emoji: "ðŸ“ˆ",
    subcategories: [
      "Groww",
      "Zerodha",
      "Upstox",
      "Mutual Funds",
      "Stocks",
      "SIP",
      "Gold",
      "Real Estate",
      "Crypto",
      "Others",
    ],
  },
  Insurance: {
    emoji: "ðŸ›¡ï¸",
    subcategories: [
      "Life Insurance",
      "Health Insurance",
      "Vehicle Insurance",
      "Home Insurance",
      "Others",
    ],
  },
  "Rent & Housing": {
    emoji: "ðŸ ",
    subcategories: [
      "House Rent",
      "Maintenance",
      "Property Tax",
      "Home Loan EMI",
      "Others",
    ],
  },
  "Bills & Fees": {
    emoji: "ðŸ“„",
    subcategories: [
      "Bank Fees",
      "Service Charges",
      "Late Fees",
      "Legal Fees",
      "Government Fees",
      "Others",
    ],
  },
  "Credit Card Bills": {
    emoji: "ðŸ’³",
    subcategories: [
      "HDFC",
      "ICICI",
      "SBI",
      "Axis",
      "Cred",
      "Amazon Pay",
      "Others",
    ],
  },
  Subscriptions: {
    emoji: "ðŸ“±",
    subcategories: [
      "Streaming Services",
      "Cloud Storage",
      "Software",
      "Magazines",
      "News",
      "Others",
    ],
  },
  "Personal Care": {
    emoji: "ðŸ’†",
    subcategories: ["Salon", "Spa", "Grooming", "Cosmetics", "Others"],
  },
  "Gifts & Donations": {
    emoji: "ðŸŽ",
    subcategories: ["Gifts", "Charity", "Religious", "Social Causes", "Others"],
  },
  Transfers: {
    emoji: "ðŸ’¸",
    subcategories: [
      "Family",
      "Friends",
      "Business",
      "Wallet Transfers",
      "Paytm",
      "PhonePe",
      "GPay",
      "Others",
    ],
  },
  Business: {
    emoji: "ðŸ’¼",
    subcategories: [
      "Office Supplies",
      "Equipment",
      "Marketing",
      "Professional Services",
      "Others",
    ],
  },
  Pets: {
    emoji: "ðŸ¾",
    subcategories: [
      "Pet Food",
      "Veterinary",
      "Pet Supplies",
      "Grooming",
      "Others",
    ],
  },
  Kids: {
    emoji: "ðŸ‘¶",
    subcategories: ["Daycare", "Toys", "Clothing", "Activities", "Others"],
  },
  ATM: {
    emoji: "ðŸ§",
    subcategories: ["Cash Withdrawal", "ATM Fees", "Others"],
  },
  Others: {
    emoji: "ðŸ“Œ",
    subcategories: ["Miscellaneous", "Unknown", "Uncategorized"],
  },
};

export const CATEGORY_EMOJIS = {
  Income: "ðŸ’°",
  Salary: "ðŸ’°",
  Freelance: "ðŸ’¼",
  "Business Income": "ðŸ’¼",
  Interest: "ðŸ’µ",
  Dividends: "ðŸ“ˆ",
  "Rental Income": "ðŸ ",
  Cashback: "ðŸ’¸",
  Refunds: "â†©ï¸",
  Rewards: "ðŸŽ",

  "Food & Dining": "ðŸ”",
  Swiggy: "ðŸ½ï¸",
  Zomato: "ðŸ•",
  "Uber Eats": "ðŸ”",
  Restaurants: "ðŸ´",
  Cafes: "â˜•",
  "Fast Food": "ðŸŸ",

  Groceries: "ðŸ›’",
  BigBasket: "ðŸ¥¬",
  Blinkit: "âš¡",
  Zepto: "ðŸ›’",
  Dunzo: "ðŸ“¦",
  DMart: "ðŸ›’",
  JioMart: "ðŸ›’",
  Supermarkets: "ðŸ›’",
  "Local Stores": "ðŸª",

  "Shopping - Online": "ðŸ›ï¸",
  "Shopping - Retail": "ðŸ›ï¸",
  Shopping: "ðŸ›ï¸",
  Amazon: "ðŸ“¦",
  Flipkart: "ðŸ›’",
  Myntra: "ðŸ‘—",
  Ajio: "ðŸ‘•",
  Nykaa: "ðŸ’„",
  Clothing: "ðŸ‘•",
  Electronics: "ðŸ’»",
  "Home & Garden": "ðŸ¡",
  "Personal Care": "ðŸ’†",

  Transport: "ðŸš—",
  Uber: "ðŸš•",
  Ola: "ðŸš–",
  Rapido: "ðŸï¸",
  Metro: "ðŸš‡",
  Bus: "ðŸšŒ",
  Train: "ðŸš†",
  Auto: "ðŸ›º",
  Fuel: "â›½",
  Parking: "ðŸ…¿ï¸",

  Entertainment: "ðŸŽ¬",
  Netflix: "ðŸ“º",
  "Prime Video": "ðŸŽ¬",
  Hotstar: "ðŸ“º",
  Spotify: "ðŸŽµ",
  "YouTube Premium": "â–¶ï¸",
  BookMyShow: "ðŸŽŸï¸",
  PVR: "ðŸŽ¬",
  Movies: "ðŸŽ¥",
  Events: "ðŸŽª",
  Gaming: "ðŸŽ®",

  Healthcare: "ðŸ¥",
  Hospitals: "ðŸ¥",
  Clinics: "âš•ï¸",
  Medicines: "ðŸ’Š",
  "Lab Tests": "ðŸ§ª",
  Gym: "ðŸ’ª",
  Fitness: "ðŸƒ",

  Utilities: "ðŸ’¡",
  Electricity: "âš¡",
  Water: "ðŸ’§",
  Gas: "ðŸ”¥",
  Internet: "ðŸŒ",
  Mobile: "ðŸ“±",
  DTH: "ðŸ“¡",
  Broadband: "ðŸŒ",

  Education: "ðŸ“š",
  "School Fees": "ðŸ«",
  "College Fees": "ðŸŽ“",
  Courses: "ðŸ“–",
  Books: "ðŸ“š",
  Tuition: "ðŸ‘¨â€ðŸ«",
  Training: "ðŸ“",

  Travel: "âœˆï¸",
  MakeMyTrip: "âœˆï¸",
  Airbnb: "ðŸ¡",
  OYO: "ðŸ¨",
  Goibibo: "âœˆï¸",
  Yatra: "âœˆï¸",
  Flights: "âœˆï¸",
  Hotels: "ðŸ¨",
  Vacation: "ðŸ–ï¸",

  Investments: "ðŸ“ˆ",
  Investment: "ðŸ“ˆ",
  Groww: "ðŸ“ˆ",
  Zerodha: "ðŸ“Š",
  Upstox: "ðŸ“ˆ",
  "Mutual Funds": "ðŸ’¼",
  Stocks: "ðŸ“ˆ",
  SIP: "ðŸ’°",
  Gold: "ðŸª™",
  "Real Estate": "ðŸ¢",
  Crypto: "â‚¿",

  Insurance: "ðŸ›¡ï¸",
  "Life Insurance": "ðŸ›¡ï¸",
  "Health Insurance": "ðŸ¥",
  "Vehicle Insurance": "ðŸš—",
  "Home Insurance": "ðŸ ",

  "Rent & Housing": "ðŸ ",
  Rent: "ðŸ ",
  "House Rent": "ðŸ ",
  Maintenance: "ðŸ”§",
  "Property Tax": "ðŸ›ï¸",
  "Home Loan EMI": "ðŸ¦",

  "Bills & Fees": "ðŸ“„",
  "Bill Payments": "ðŸ“„",
  "Bank Fees": "ðŸ¦",
  "Service Charges": "ðŸ’µ",
  "Late Fees": "â°",
  "Legal Fees": "âš–ï¸",
  "Government Fees": "ðŸ›ï¸",

  "Credit Card Bills": "ðŸ’³",
  "Credit Card Bill Payments": "ðŸ’³",
  HDFC: "ðŸ’³",
  ICICI: "ðŸ’³",
  SBI: "ðŸ’³",
  Axis: "ðŸ’³",
  Cred: "ðŸ’³",
  "Amazon Pay": "ðŸ’³",

  Subscriptions: "ðŸ“±",
  "Streaming Services": "ðŸ“º",
  "Cloud Storage": "â˜ï¸",
  Software: "ðŸ’»",
  Magazines: "ðŸ“°",
  News: "ðŸ“°",

  "Gifts & Donations": "ðŸŽ",
  Gifts: "ðŸŽ",
  Charity: "â¤ï¸",
  Religious: "ðŸ™",
  "Social Causes": "ðŸ¤",

  Transfers: "ðŸ’¸",
  Family: "ðŸ‘¨â€ðŸ‘©â€ðŸ‘§â€ðŸ‘¦",
  Friends: "ðŸ‘¥",
  Business: "ðŸ’¼",
  "Wallet Transfers": "ðŸ’³",
  Paytm: "ðŸ’³",
  PhonePe: "ðŸ“±",
  GPay: "ðŸ’°",

  Pets: "ðŸ¾",
  "Pet Food": "ðŸ–",
  Veterinary: "ðŸ¥",
  "Pet Supplies": "ðŸ•",
  Grooming: "âœ‚ï¸",

  Kids: "ðŸ‘¶",
  Daycare: "ðŸ«",
  Toys: "ðŸ§¸",
  Activities: "ðŸŽ¨",

  ATM: "ðŸ§",
  Cash: "ðŸ’µ",
  "Cash Withdrawal": "ðŸ’µ",
  "ATM Fees": "ðŸ§",

  Others: "ðŸ“Œ",
  Miscellaneous: "ðŸ“Œ",
  Unknown: "â“",
  Uncategorized: "â“",
};

export function getCategoryEmoji(category) {
  if (!category) return CATEGORY_EMOJIS["Uncategorized"];

  const normalizedCategory = String(category).trim();

  if (CATEGORY_EMOJIS[normalizedCategory]) {
    return CATEGORY_EMOJIS[normalizedCategory];
  }

  const lowerCategory = normalizedCategory.toLowerCase();
  for (const [key, emoji] of Object.entries(CATEGORY_EMOJIS)) {
    if (
      key.toLowerCase().includes(lowerCategory) ||
      lowerCategory.includes(key.toLowerCase())
    ) {
      return emoji;
    }
  }

  return CATEGORY_EMOJIS["Others"];
}

export function getCategoryWithEmoji(category) {
  const emoji = getCategoryEmoji(category);
  const displayCategory = category || "Uncategorized";
  return `${emoji} ${displayCategory}`;
}

export function getMainCategory(category) {
  if (!category) return "Others";

  for (const [mainCat, data] of Object.entries(CATEGORY_HIERARCHY)) {
    if (mainCat === category) return mainCat;
    if (data.subcategories.includes(category)) return mainCat;
  }

  return "Others";
}

export function getSubcategories(mainCategory) {
  if (!mainCategory || !CATEGORY_HIERARCHY[mainCategory]) {
    return ["Others"];
  }
  return CATEGORY_HIERARCHY[mainCategory].subcategories;
}

export function getAllMainCategories() {
  return Object.keys(CATEGORY_HIERARCHY);
}

export function getFilteredCategories() {
  const excludedCategories = [
    "Bills & Fees",
    "Personal Care",
    "Gifts & Donations",
    "Utilities",
    "Education",
    "Business",
    "Pets",
    "Kids",
    "ATM",
  ];

  return Object.keys(CATEGORY_HIERARCHY).filter(
    (category) => !excludedCategories.includes(category)
  );
}

export function getCategoryHierarchyDisplay(category) {
  const mainCat = getMainCategory(category);
  const mainEmoji = CATEGORY_HIERARCHY[mainCat]?.emoji || "ðŸ“Œ";

  if (mainCat === category) {
    return `${mainEmoji} ${mainCat}`;
  }

  const subEmoji = getCategoryEmoji(category);
  return `${mainEmoji} ${mainCat} â†’ ${subEmoji} ${category}`;
}
